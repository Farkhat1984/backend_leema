# ============================================================================
# APPLE SIGN IN CONFIGURATION
# ============================================================================
# Add these variables to your .env file

# Apple Developer Team ID (found in Apple Developer Account)
# Example: MCMQHQ6XT9 (your team ID)
APPLE_TEAM_ID=MCMQHQ6XT9

# Apple Service ID (created in Certificates, Identifiers & Profiles > Identifiers)
# This is NOT your App ID - it's a separate Service ID for web authentication
# Example: kz.leema.service
APPLE_CLIENT_ID=kz.leema.service

# Apple Key ID (from the .p8 key you downloaded)
# Found when you create a Sign in with Apple key
# Example: ABC123DEFG
APPLE_KEY_ID=YOUR_KEY_ID_HERE

# Apple Private Key (.p8 file content)
# Copy the ENTIRE content of your AuthKey_XXXXXXXXXX.p8 file
# Including the BEGIN and END lines, as a single line or multiline string
# Option 1: Single line (replace newlines with \n)
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQg...\n-----END PRIVATE KEY-----"

# Option 2: Multiline (if your .env parser supports it)
# APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
# MIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQg...
# -----END PRIVATE KEY-----"

# Apple OAuth Redirect URI
# This must match exactly what you configured in Apple Developer Console
# For production:
APPLE_REDIRECT_URI=https://api.leema.kz/api/auth/apple/callback

# For development/testing:
# APPLE_REDIRECT_URI=https://your-dev-domain.com/api/auth/apple/callback

# ============================================================================
# HOW TO GET THESE VALUES
# ============================================================================

# 1. APPLE_TEAM_ID
#    - Go to: https://developer.apple.com/account
#    - Click on "Membership" in the sidebar
#    - Your Team ID is shown there (e.g., MCMQHQ6XT9)

# 2. APPLE_CLIENT_ID (Service ID)
#    - Go to: https://developer.apple.com/account/resources/identifiers/list/serviceId
#    - Click the "+" button to create a new Service ID
#    - Enter:
#      * Description: Leema Web Service
#      * Identifier: kz.leema.service (or your domain in reverse)
#    - Enable "Sign In with Apple"
#    - Configure the domains and return URLs
#    - Save and copy the Identifier

# 3. APPLE_KEY_ID and APPLE_PRIVATE_KEY
#    - Go to: https://developer.apple.com/account/resources/authkeys/list
#    - Click the "+" button to create a new Key
#    - Enter:
#      * Key Name: Leema Apple Sign In Key
#    - Enable "Sign In with Apple"
#    - Click "Configure" and select your Primary App ID
#    - Click "Save", then "Continue", then "Register"
#    - IMPORTANT: Download the .p8 file NOW (you can only download it once!)
#    - The Key ID is shown on the page (e.g., ABC123DEFG)
#    - Copy the content of the .p8 file to APPLE_PRIVATE_KEY

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. NEVER commit the .p8 file or APPLE_PRIVATE_KEY to git
# 2. Add .env to .gitignore
# 3. Use environment variables in production
# 4. Restrict file permissions: chmod 600 .env
# 5. Rotate keys periodically for better security

# ============================================================================
# TESTING
# ============================================================================

# To test if your configuration is working:
# curl -X POST https://api.leema.kz/api/auth/apple/url
# 
# You should get back an authorization URL that you can use for testing
