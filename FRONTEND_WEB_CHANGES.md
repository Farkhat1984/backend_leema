# –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è Web Frontend (Admin & Shop –ø–∞–Ω–µ–ª–∏)

## –î–∞—Ç–∞: 2025-10-22

---

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ß—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è
Backend —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–æ–ª–µ–π –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ "–ì–∞—Ä–¥–µ—Ä–æ–± –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è".

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —á–∞—Å—Ç–∏
- ‚úÖ **Admin Panel** - –Ω–µ–±–æ–ª—å—à–∏–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è
- ‚úÖ **Shop Panel** - –Ω–µ–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚ùå **User Panel** - –ù–ï –ó–ê–¢–†–û–ù–£–¢–û (—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç –≤–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)

---

## üîê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Authentication (—É—Ç–æ—á–Ω–µ–Ω–∏—è)

### –¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

#### 1. Admin Panel
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: User —Å —Ä–æ–ª—å—é `ADMIN`
- **–¢–æ–∫–µ–Ω**: `{user_id, role: "admin", platform: "web", account_type: "user"}`
- **–î–æ—Å—Ç—É–ø**: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Web
- **Endpoints**: `/api/v1/admin/*`

```javascript
// Login –¥–ª—è –∞–¥–º–∏–Ω–∞
POST /api/v1/auth/google/login
Body: {
  code: "google_auth_code",
  account_type: "user",  // –í–ê–ñ–ù–û: user, –Ω–µ admin!
  platform: "web"
}

// Response —Å–æ–¥–µ—Ä–∂–∏—Ç user.role = "admin"
Response: {
  access_token: "...",
  refresh_token: "...",
  user: {
    id: 1,
    email: "admin@example.com",
    role: "admin",  // –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —ç—Ç–æ –ø–æ–ª–µ!
    ...
  },
  account_type: "user",
  platform: "web"
}
```

**‚ö†Ô∏è –í–ê–ñ–ù–û**: 
- Admin —ç—Ç–æ –ù–ï –æ—Ç–¥–µ–ª—å–Ω—ã–π account_type
- Admin —ç—Ç–æ User —Å `role: "admin"`
- –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ `account_type: "user"`
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `user.role === "admin"` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

#### 2. Shop Panel
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: Shop (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å)
- **–¢–æ–∫–µ–Ω**: `{shop_id, role: "shop", platform: "web", account_type: "shop"}`
- **–î–æ—Å—Ç—É–ø**: —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Web
- **Endpoints**: `/api/v1/shops/me/*`, `/api/v1/products/*`

```javascript
// Login –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
POST /api/v1/auth/google/login
Body: {
  code: "google_auth_code",
  account_type: "shop",  // –î–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
  platform: "web"
}

Response: {
  access_token: "...",
  refresh_token: "...",
  shop: {
    id: 1,
    shop_name: "My Fashion Store",
    email: "shop@example.com",
    is_approved: true,
    ...
  },
  account_type: "shop",
  platform: "web"
}
```

---

## üõ†Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API

### 1. Admin Panel - –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô

–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- `GET /api/v1/admin/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/v1/admin/shops` - —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- `POST /api/v1/admin/shops/{id}/approve` - –æ–¥–æ–±—Ä–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
- `GET /api/v1/admin/products/moderation` - –º–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- –ò —Ç.–¥.

**–î–µ–π—Å—Ç–≤–∏—è**: –ù–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å ‚úÖ

### 2. Shop Panel - –ù–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê UPLOADS

#### 2.1 Upload —Ç–æ–≤–∞—Ä–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞

**–ë—ã–ª–æ:**
```
POST /api/v1/products
Content-Type: multipart/form-data

files: [File, File, ...]
name: "Product name"
price: 1000
...

‚Üí –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤: /uploads/products/{random_uuid}.jpg
```

**–°—Ç–∞–ª–æ:**
```
POST /api/v1/products
Content-Type: multipart/form-data

files: [File, File, ...]
name: "Product name"
price: 1000
...

‚Üí –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: /uploads/shops/{shop_id}/products/{product_id}/image_{index}.jpg
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑–º–µ–Ω–∏—Ç—Å—è —Å `/uploads/products/xxx.jpg` –Ω–∞ `/uploads/shops/1/products/123/image_0.jpg`
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º –∏ —Ç–æ–≤–∞—Ä–∞–º
- –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –∏–º–µ–µ—Ç —Å–≤–æ—é –ø–∞–ø–∫—É

#### 2.2 –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Product Response

**–ë—ã–ª–æ:**
```json
{
  "id": 123,
  "name": "Dress",
  "images": [
    "/uploads/products/abc123.jpg",
    "/uploads/products/def456.jpg"
  ]
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "id": 123,
  "name": "Dress",
  "images": [
    "/uploads/shops/5/products/123/image_0.jpg",
    "/uploads/shops/5/products/123/image_1.jpg"
  ]
}
```

**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è Frontend:**
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ URL –∏–∑ API (–Ω–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–π—Ç–µ —Å–∞–º–∏)
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ —Ç–µ—Å—Ç—ã –µ—Å–ª–∏ —Ç–∞–º hardcoded –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
3. ‚úÖ –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ä—ã–µ URL –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (backward compatibility)

---

## üìÅ File Upload - –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤

```javascript
// React –ø—Ä–∏–º–µ—Ä
const uploadProduct = async (formData) => {
  const form = new FormData();
  
  // –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã
  files.forEach((file) => {
    form.append('files', file);
  });
  
  // –î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
  form.append('name', productName);
  form.append('price', price);
  form.append('description', description);
  
  const response = await fetch('/api/v1/products', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      // –ù–ï –î–û–ë–ê–í–õ–Ø–ô–¢–ï Content-Type - –±—Ä–∞—É–∑–µ—Ä —Å–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –¥–ª—è multipart
    },
    body: form
  });
  
  const product = await response.json();
  
  // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URLs –∏–∑ response
  console.log('Product images:', product.images);
};
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```javascript
// –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL –∏–∑ API
<img src={product.images[0]} alt={product.name} />

// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –Ω–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–π—Ç–µ URL —Å–∞–º–∏
<img src={`/uploads/products/${product.id}/image.jpg`} />
```

---

## üö® Breaking Changes

### ‚ùå –ù–ï–¢ BREAKING CHANGES –¥–ª—è Web Frontend

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω (–Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã, —Å—Ç–∞—Ä—ã–µ –Ω–µ —É–¥–∞–ª–µ–Ω—ã)
- –°—Ç–∞—Ä—ã–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Admin Panel

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞**
   - [ ] Login —á–µ—Ä–µ–∑ Google —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –¢–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç `user.role = "admin"`
   - [ ] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞–º–∏**
   - [ ] –°–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
   - [ ] –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö –ø—Ä–∏—Ö–æ–¥—è—Ç

3. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤**
   - [ ] –û—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
   - [ ] –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ß—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Shop Panel

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞**
   - [ ] Login —á–µ—Ä–µ–∑ Google —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –¢–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç `shop` –æ–±—ä–µ–∫—Ç
   - [ ] –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø–∞–Ω–µ–ª—å –º–∞–≥–∞–∑–∏–Ω–∞ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏**
   - [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ –Ω–æ–≤—ã–º URL
   - [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - [ ] Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
   - [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. Admin –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Ç–æ–≤–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–µ

–ù–æ–≤—ã–π endpoint –¥–ª—è –∞–¥–º–∏–Ω–∞:
```
GET /api/v1/admin/wardrobe
‚Üí –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –≤ –≥–∞—Ä–¥–µ—Ä–æ–±–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

GET /api/v1/admin/users/{user_id}/wardrobe
‚Üí –ì–∞—Ä–¥–µ—Ä–æ–± –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–ó–∞—á–µ–º**: –î–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**UI –∏–¥–µ–∏**:
- –í–∫–ª–∞–¥–∫–∞ "User Wardrobe" –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –§–∏–ª—å—Ç—Ä—ã: –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (generated/uploaded/shop)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—è—Ç—å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤

–ù–æ–≤—ã–π endpoint:
```
GET /api/v1/shops/me/analytics/copied-to-wardrobe
‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ç–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –≥–∞—Ä–¥–µ—Ä–æ–±
```

**–ó–∞—á–µ–º**: –ú–∞–≥–∞–∑–∏–Ω –≤–∏–¥–∏—Ç –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Å–≤–æ–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å—Ä–µ–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**UI –∏–¥–µ–∏**:
- –ì—Ä–∞—Ñ–∏–∫ "–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –≥–∞—Ä–¥–µ—Ä–æ–±" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞
- –¢–æ–ø —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –≥–∞—Ä–¥–µ—Ä–æ–±

---

## üìû API Reference (Quick Guide)

### Admin Endpoints (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```
GET    /api/v1/admin/dashboard          - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
GET    /api/v1/admin/users               - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
GET    /api/v1/admin/shops               - –°–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤
POST   /api/v1/admin/shops/{id}/approve  - –û–¥–æ–±—Ä–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω
POST   /api/v1/admin/shops/{id}/reject   - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω
GET    /api/v1/admin/products/moderation - –û—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
POST   /api/v1/admin/products/{id}/approve - –û–¥–æ–±—Ä–∏—Ç—å —Ç–æ–≤–∞—Ä
POST   /api/v1/admin/products/{id}/reject  - –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä
GET    /api/v1/admin/settings            - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
PUT    /api/v1/admin/settings            - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### Shop Endpoints (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```
GET    /api/v1/shops/me                  - –ü—Ä–æ—Ñ–∏–ª—å –º–∞–≥–∞–∑–∏–Ω–∞
PUT    /api/v1/shops/me                  - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
GET    /api/v1/shops/me/analytics        - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
GET    /api/v1/products                  - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
POST   /api/v1/products                  - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
GET    /api/v1/products/{id}             - –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
PUT    /api/v1/products/{id}             - –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
DELETE /api/v1/products/{id}             - –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
```

---

## ‚úÖ Checklist –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –î–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [ ] –ò–∑—É—á–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É Auth (admin = user —Å role)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ API, –∞ –Ω–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç–µ —Å–∞–º–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –µ—Å–ª–∏ –µ—Å—Ç—å hardcoded –ø—É—Ç–∏

### –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω –º–∞–≥–∞–∑–∏–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ 403/401 (–ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (–Ω–µ—Ç 404)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ uploads

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Admin –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ `account_type: "user"`, –∞ –Ω–µ "admin"
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ `response.user.role === "admin"` –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
- –í —Ç–æ–∫–µ–Ω–µ –µ—Å—Ç—å `user_id` (–Ω–µ `shop_id`)

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (404)
**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π URL –∏–∑ `product.images` –º–∞—Å—Å–∏–≤–∞
- –ù–µ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–π—Ç–µ URL —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω (CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### –ü—Ä–æ–±–ª–µ–º–∞: Shop –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä
**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ shop –æ–¥–æ–±—Ä–µ–Ω (`is_approved: true`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (–º–∞–∫—Å 10MB –Ω–∞ —Ñ–∞–π–ª)
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `multipart/form-data`

---

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
- Backend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `/var/www/backend/BACKEND_REFACTORING_TODOLIST.md`
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `https://api.leema.kz/docs` (—Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ)
- Swagger UI: `https://api.leema.kz/redoc` (—Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ)

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-10-22
**–í–µ—Ä—Å–∏—è Backend API**: v1
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Ready for implementation
